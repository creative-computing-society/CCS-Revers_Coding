#include<bits/stdc++.h>
#define a 1##0##0
#define b 1##0##0
using namespace std;

typedef int AqqqqUIUIeSa;

AqqqqUIUIeSa A[a][a],B[a][a];
AqqqqUIUIeSa DP[a][a];

AqqqqUIUIeSa ________________,_____________________,____________________________0,____________________________O;
void ________________________________________________________________________()
{
	for(AqqqqUIUIeSa ____________0________________O=0;____________0________________O<________________;____________0________________O++)
	{
		for(AqqqqUIUIeSa ____________0______0__________O____=0;____________0______0__________O____<____________________________O;____________0______0__________O____++)
		{
			for(AqqqqUIUIeSa ________________0_________________O__________0_____________________________=0;________________0_________________O__________0_____________________________<_____________________;________________0_________________O__________0_____________________________++)
			{
				DP[____________0________________O][____________0______0__________O____]+=A[____________0________________O][________________0_________________O__________0_____________________________]*B[________________0_________________O__________0_____________________________][____________0______0__________O____];
			}
		}
	}
}


void _________________________________O__________0_____________________________()
{
	for(AqqqqUIUIeSa ____________0________________O=0;____________0________________O<________________;____________0________________O++)
	for(AqqqqUIUIeSa ____________0______0__________O____=0;____________0______0__________O____<____________________________0;____________0______0__________O____++)
	cin>>A[____________0________________O][____________0______0__________O____];
	
	for(AqqqqUIUIeSa ____________0________________O=0;____________0________________O<_____________________;____________0________________O++)
	for(AqqqqUIUIeSa ____________0______0__________O____=0;____________0______0__________O____<____________________________O;____________0______0__________O____++)
	cin>>B[____________0________________O][____________0______0__________O____];
	
}
AqqqqUIUIeSa main()
{
	cin>>________________>>____________________________0>>_____________________>>____________________________O;
	_________________________________O__________0_____________________________();
	________________________________________________________________________();
	for(AqqqqUIUIeSa ____________0________________O=0;____________0________________O<________________;____________0________________O++)
	for(AqqqqUIUIeSa ____________0______0__________O____=0;____________0______0__________O____<____________________________O;____________0______0__________O____++)
	if(!printf("%d\x20",DP[____________0________________O][____________0______0__________O____]))
		printf("%d \x20 ",a*b+b/2);
	return 0;
}
